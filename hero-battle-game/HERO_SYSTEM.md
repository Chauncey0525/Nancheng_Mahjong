# 英雄系统说明

## 系统概述

英雄系统采用**宝可梦风格**的属性设计，所有英雄平等，通过属性和技能侧重来区分。

## 属性系统

### 基础属性（6项）

1. **生命 (HP)** - 英雄的生命值
2. **物攻 (Phys ATK)** - 物理攻击力
3. **法攻 (Magic ATK)** - 魔法攻击力
4. **物抗 (Phys DEF)** - 物理防御力
5. **法抗 (Magic DEF)** - 魔法防御力
6. **速度 (Speed)** - 决定行动顺序

### 属性类型（参考宝可梦）

支持以下属性类型：
- **普通** - 基础属性
- **火** - 克制草、木、虫、冰、钢
- **水** - 克制火、地面、岩石
- **草/木** - 克制水、地面、岩石
- **电** - 克制水、飞行
- **冰** - 克制草、木、地面、飞行、龙
- **格斗** - 克制普通、冰、岩石、暗、钢
- **毒** - 克制草、木
- **地面** - 克制火、电、毒、岩石、钢
- **飞行** - 克制格斗、虫、草、木
- **超能力** - 克制格斗、毒
- **虫** - 克制草、木、超能力、暗
- **岩石** - 克制火、冰、飞行、虫
- **幽灵** - 克制幽灵、超能力
- **暗** - 克制幽灵、超能力
- **龙** - 克制龙
- **钢** - 克制冰、岩石
- **金** - 克制木、草
- **土** - 克制水、电

### 属性克制关系

- **克制**：伤害 × 2.0（翻倍）
- **被抵抗**：伤害 × 0.5（减半）
- **无相克**：伤害 × 1.0（正常）

## 角色定位

### 战士
- **特点**：近战物理输出，高生命和物攻
- **代表**：吕布、项羽、关羽、白起、秦始皇等

### 刺客
- **特点**：高速度单体物理输出
- **代表**：荆轲、霍去病

### 法师
- **特点**：魔法输出，高法攻
- **代表**：诸葛亮、张良、张衡、祖冲之、康熙帝、韩信

### 治疗
- **特点**：治疗辅助，高法攻和法防
- **代表**：扁鹊、李时珍

### 坦克
- **特点**：高生命和双防，保护队友
- **代表**：（待添加）

### 射手
- **特点**：远程物理输出
- **代表**：（待添加）

### 辅助
- **特点**：提供增益和减益效果
- **代表**：（待添加）

### 其他定位（预留）
- **坦克**：高生命和双防，保护队友
- **射手**：远程物理输出
- **辅助**：提供增益和减益效果

## 英雄示例

### 荆轲（暗系刺客）
- **属性**：暗
- **定位**：刺客
- **属性值**：
  - 生命：80
  - 物攻：120（高）
  - 法攻：40（低）
  - 物抗：50
  - 法抗：40
  - 速度：110（高）

### 扁鹊（木系治疗）
- **属性**：木
- **定位**：治疗
- **属性值**：
  - 生命：90
  - 物攻：40（低）
  - 法攻：100（高）
  - 物抗：60
  - 法抗：90（高）
  - 速度：70

### 吕布（格斗系战士）
- **属性**：格斗
- **定位**：战士
- **属性值**：
  - 生命：130（高）
  - 物攻：140（高）
  - 法攻：30（低）
  - 物抗：100（高）
  - 法抗：60
  - 速度：85

## 等级成长

所有属性按等级成长，公式：
```
最终属性 = 基础属性 × (1 + (等级 - 1) × 0.05)
```

每级增长基础值的5%。

## 使用方法

### 更新数据库结构

```bash
cd backend
npm run update-schema
```

### 导入英雄数据

```bash
cd backend
npm run import-heroes
```

### 一键迁移（更新结构 + 导入数据）

```bash
cd backend
npm run migrate
```

或使用脚本：

```bash
bash backend/scripts/migrate-database.sh
```

## 注意事项

1. **所有英雄平等**：没有星级区分，所有英雄都可以培养
2. **属性平衡**：不同角色定位有不同的属性侧重
3. **克制关系**：战斗时需要考虑属性克制
4. **角色定位**：根据历史背景设置合适的定位和属性
